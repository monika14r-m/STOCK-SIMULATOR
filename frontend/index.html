<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Paper Trading Lab</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="app-root">
    <!-- Side nav -->
    <aside class="sidebar">
        <div class="sidebar-logo">
            <div class="logo-mark">PL</div>
            <div class="logo-text">
                <div class="logo-title">Paper Trading Lab</div>
                <div class="logo-subtitle">Learn markets safely</div>
            </div>
        </div>

        <nav class="sidebar-nav">
            <button class="nav-item active">
                <span>Simulator</span>
                <span class="pill-sm pill-live" id="marketStatusChip">CLOSED</span>
            </button>
        </nav>

        <div class="sidebar-footer">
            <div class="small-label">Session stats</div>
            <div class="stats-row">
                <span>Trades today</span>
                <span id="tradesToday">0</span>
            </div>
            <div class="stats-row">
                <span>Win rate</span>
                <span id="winRate">–</span>
            </div>
        </div>
    </aside>

    <div class="app-main">
        <!-- Top bar -->
        <header class="topbar">
            <div class="topbar-left">
                <div class="topbar-title">Practice account</div>
                <div class="topbar-controls">
                    <label class="inline-label">
                        Capital:
                        <select id="startingCapital" class="select-inline">
                            <option value="10000">₹10,000</option>
                            <option value="50000">₹50,000</option>
                            <option value="100000" selected>₹1,00,000</option>
                        </select>
                    </label>
                    <label class="inline-label">
                        Mode:
                        <select id="modeSelect" class="select-inline">
                            <option value="conservative">Conservative</option>
                            <option value="balanced" selected>Balanced</option>
                            <option value="aggressive">Aggressive</option>
                        </select>
                    </label>
                    <button id="resetBtn" class="ghost-btn">Reset account</button>
                </div>
            </div>
            <div class="topbar-right">
                <div class="metric">
                    <span class="label">Cash</span>
                    <span class="value" id="cashDisplay"></span>
                </div>
                <div class="metric">
                    <span class="label">Portfolio</span>
                    <span class="value" id="portfolioValueDisplay"></span>
                </div>
                <div class="metric">
                    <span class="label">Total</span>
                    <span class="value" id="totalValueDisplay"></span>
                </div>
                <div class="metric">
                    <span class="label">P/L view</span>
                    <button id="plToggle" class="pill-sm">₹</button>
                </div>
            </div>
        </header>

        <!-- Three-column layout -->
        <main class="layout">
            <!-- Watchlist -->
            <section class="panel">
                <div class="panel-header">
                    <h2>Watchlist</h2>
                    <input
                        type="text"
                        id="searchInput"
                        class="search-input"
                        placeholder="Search by symbol or company..."
                    />
                </div>
                <div class="panel-body">
                    <table class="table">
                        <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Name</th>
                            <th>Last</th>
                            <th>Move</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody id="stocksBody"></tbody>
                    </table>
                </div>
            </section>

            <!-- Trade ticket -->
            <section class="panel">
                <div class="panel-header">
                    <h2>Trade ticket</h2>
                    <div id="selectedStockLabel" class="selected-stock-label">
                        Select a stock from the watchlist
                    </div>
                </div>
                <div class="panel-body trade-panel-body">
                    <form id="tradeForm" class="trade-form">
                        <div class="field-group">
                            <label>Side</label>
                            <div class="pill-toggle" id="sideToggle">
                                <button type="button" data-side="buy" class="pill active">Buy</button>
                                <button type="button" data-side="sell" class="pill">Sell</button>
                            </div>
                            <input type="hidden" id="tradeType" value="buy" />
                        </div>

                        <div class="field-row">
                            <div class="field-group">
                                <label>Order type</label>
                                <select id="orderKind" class="input">
                                    <option value="market">Market</option>
                                    <option value="limit">Limit</option>
                                </select>
                            </div>
                            <div class="field-group" id="limitPriceGroup" style="display:none;">
                                <label>Limit price</label>
                                <input
                                    type="number"
                                    id="limitPrice"
                                    class="input"
                                    min="1"
                                    step="0.01"
                                    placeholder="Enter limit"
                                />
                            </div>
                        </div>

                        <div class="field-row">
                            <div class="field-group">
                                <label>Quantity</label>
                                <input
                                    type="number"
                                    id="tradeQuantity"
                                    class="input"
                                    min="1"
                                    value="10"
                                />
                            </div>
                            <div class="field-group">
                                <label>Est. cost (incl. fees)</label>
                                <div id="estimatedCost" class="pill-estimate">–</div>
                            </div>
                        </div>

                        <button type="submit" class="primary-btn">Place order</button>
                        <div id="tradeMessage" class="message"></div>
                    </form>

                    <div class="side-info">
                        <div class="info-box">
                            <div class="info-title">Risk tip</div>
                            <div id="educationTip" class="info-body"></div>
                        </div>
                        <div class="info-box">
                            <div class="info-title">Current position</div>
                            <div id="currentPositionBox" class="info-body">
                                No position yet.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Portfolio & history -->
            <section class="panel">
                <div class="panel-header">
                    <h2>Portfolio & history</h2>
                </div>
                <div class="panel-body portfolio-body">
                    <div class="subpanel">
                        <div class="subpanel-header">
                            <span>Open positions</span>
                        </div>
                        <div class="subpanel-body">
                            <table class="table compact">
                                <thead>
                                <tr>
                                    <th>Symbol</th>
                                    <th>Qty</th>
                                    <th>Avg</th>
                                    <th>Last</th>
                                    <th>Value</th>
                                    <th>P/L</th>
                                </tr>
                                </thead>
                                <tbody id="portfolioBody"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="subpanel">
                        <div class="subpanel-header">
                            <span>Recent trades</span>
                        </div>
                        <div class="subpanel-body history-body">
                            <table class="table compact">
                                <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Symbol</th>
                                    <th>Side</th>
                                    <th>Type</th>
                                    <th>Qty</th>
                                    <th>Price</th>
                                    <th>Fees</th>
                                </tr>
                                </thead>
                                <tbody id="historyBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            Prices are simulated and delayed. This is for education only, not investment advice.
        </footer>
    </div>
</div>
<script src="app.js"></script>
</body>
</html>
